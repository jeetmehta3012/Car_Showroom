(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{"./girnarsoft-react-common/widgets/ctaButtons/DCBButton.js":function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var o=a("react"),s=a.n(o),i=a("./girnarsoft-react-common/elements/index.js"),n=a("./cd/utils/global.js"),l=a("./girnarsoft-react-common/utils/LeadFlow.js"),r=a("./girnarsoft-react-common/utils/detect.js"),c=a("./node_modules/react-router/es/index.js"),d=a("./girnarsoft-react-common/utils/Base64.js"),p=a("./cd/configs/index.js"),m=a("./node_modules/prop-types/index.js"),h=a.n(m),f=a("./girnarsoft-react-common/widgets/model/DealerConnect.js");class g extends s.a.Component{constructor(e){super(e),this.state=Object.assign({},e.dcbDto,e),this.handleClick=this.handleClick.bind(this)}componentWillReceiveProps(e,t){this.setState(Object.assign({},e.dcbDto,e))}componentDidMount(){this.props.connectoRequiredData&&(window.connectoRequiredData=this.props.connectoRequiredData)}handleClick(e){void 0!==this.props.onClick&&this.props.onClick();let t=document.getElementsByClassName("hashPopup"),a=r.a.isMobile(),o=this.state.dcbDto,s=!!a,i={carVariantId:this.state.carVariantId?this.state.carVariantId:o.variantName,leadLocation:`${this.state.leadLocation}${$(e.target).data("trackingpostfix")?$(e.target).data("trackingpostfix"):""}`,pageType:this.state.pageType,leadTypeCode:this.state.leadTypeCode,priceRange:o.priceRnge,dealerData:this.state.dealerData,modelName:o.ModelName?o.ModelName:o.modelName,carDetailUrl:`${p.b.baseUrl}${window.location.pathname}`,leadFormType:s?"DCBFlowNew":"DCBFlow"};$(e.target).data("trackingpostfix","");let m=Object.assign({},o,i);if("function"!=typeof this.props.dcbCallback){if(t.length>0){a||n.a.openHashPopup("leadForm");var h=["ModelScreen","askCity","askPersonalDetails","BookTestDrive","dcbThankyouScreen"];a&&(h=["dcbStep","BookTestDrive","dcbThankyouScreen"]),1==n.a.getCookie("leadSkip")&&(h=["ModelScreen","askCity","dcbThankyouScreen"]);var f=new l.a(h,s?"DCBFlowNew":"DCBFlow");let e=n.a.getReactElement(t[0]),o={leadFlow:f,initiateLeadFlow:!0,leadData:m,dealers:!0,title:this.state.dcbDto.dcbFormHeading?this.state.dcbDto.dcbFormHeading:`${this.state.getPersonalisedOffersOn}  ${this.state.dcbDto.modelName}`,subTitle:this.state.subTitle,cls:"CityPopupBMargin widthLarge",dealerIdArray:[],buyingDays:"",dealerCall:"",prevStageFlag:!0,dealerList:[],showBtn:!1,initialLoader:void 0!==n.a.getCurrentCity(),delightImage:this.state.dcbDto.delightImage?this.state.dcbDto.delightImage:`${p.b.imgPath}${this.state.imgPath}`,ctaText:this.state.displayCtaText?this.state.displayCtaText:this.state.ctaText,financeForm:!1},i={leadData:m,title:this.state.dcbDto.dcbFormHeading?this.state.dcbDto.dcbFormHeading:`${this.state.getPersonalisedOffersOn}  ${this.state.dcbDto.modelName}`,ctaText:this.state.displayCtaText?this.state.displayCtaText:this.state.ctaText,financeForm:!1};if(i=n.a.getLeadObjParams(i),a){let e=`${this.state.dcbUrl}${d.a.encode(JSON.stringify(i))}`;c.e.push(e)}else e.setState({params:o})}}else this.props.dcbCallback(m,"dcb")}render(){let e=this.props;return s.a.createElement("div",{className:`${this.props.cls} buttonHolder virtualNumberBtn ${!r.a.isDesktop()&&e.withDCCall&&e.dcbDto.showDirectDealerCall?"newDealsButton overviewdealsdtail":""}`},s.a.createElement(i.c,{tag:e.tagName,urlKey:"#",prefix:!1,default:!0,onClick:e=>this.handleClick(e),title:"",className:`${this.state.ctaClass} btn-dcb ${!e.showAnimation||r.a.isDesktop()||e.dcbDto.showDirectDealerCall,""}`,"data-trackingpostfix":"",checkHashPopUp:!!r.a.isMobile()},this.state.displayCtaText?this.state.displayCtaText:this.state.ctaText),!r.a.isDesktop()&&e.withDCCall&&e.dcbDto.showDirectDealerCall?s.a.createElement("div",{className:"calldealer"},s.a.createElement("a",{href:"tel:"+e.dcbDto.dealerContactNumber},s.a.createElement("i",{className:"icon-cd_call"}),s.a.createElement("span",null,"Talk to Dealer")," ",e.dcbDto.dealerContactNumber)):e.withDCCall&&s.a.createElement(f.a,{dcbDto:e.dcbDto,isDealerConnect:e.isDealerConnect,location:e.dcLeadLocation,dealerConnectCls:e.dealerConnectCls,dealerConnectCtaText:e.dealerConnectCtaText,pageType:e.pageType,orngDealerCallbtn:e.orngDealerCallbtn,showAnimation:e.showAnimation,btnLocation:e.btnLocation,bottomBtn:e.bottomBtn}))}}g.propTypes={dcbDto:h.a.object.isRequired,pageType:h.a.string.isRequired,leadLocation:h.a.string.isRequired},g.defaultProps={ctaClass:"primaryButton",leadTypeCode:"70",subTitle:"We only ask these once and your details are safe with us.",getPersonalisedOffersOn:"Get Personalized Offers On",dcbUrl:"/dcb.htm?q=",imgPath:"Desktop-Banner.png",withDCCall:!1,orngDealerCallbtn:!0,dcLeadLocation:"",cls:"",btnLocation:"",bottomBtn:!1,tagName:"span",effectType:!1}},"./girnarsoft-react-common/widgets/model/DealerConnect.js":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a("react"),s=a.n(o),i=a("./cd/utils/global.js"),n=a("./girnarsoft-react-common/utils/detect.js"),l=a("./girnarsoft-react-common/elements/index.js"),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};class c extends s.a.Component{constructor(e){super(e),this.state=r({},e),this.handleClick=this.handleClick.bind(this),this.GTMTracking=this.GTMTracking.bind(this)}componentDidMount(){let e=this;i.a.addPageScript((function(){let t=new URL(window.location.href).searchParams,a=t.get("dealerconnect"),o=t.get("fromAMP");a&&a.length>0&&setTimeout((function(){e.handleClick({fromAMP:!!o})}),1e3);e.props;if(e.props.orngDealerCallbtn){if(e.props.bottomBtn){let t=!1;$(window).scroll((function(){if($(window).scrollTop()>=550&&!n.a.isDesktop()&&!t){t=!0;let a=e.props.isDealerConnect?e.GTMTracking({action:"dcbuttonview",fromAMP:!1}):"";i.a.setDataLayer(null,null,!0,!1,a)}}))}}else{let t=!1;$(window).scroll((function(){if($(window).scrollTop()>=550&&!n.a.isDesktop()){if($("#hashPopup").show(),!t){t=!0;let a=e.props.isDealerConnect?e.GTMTracking({action:"dcbuttonview",fromAMP:!1}):"";i.a.setDataLayer(null,null,!0,!1,a)}}else $("#hashPopup").hide()}))}}))}handleClick(e){let t=document.getElementsByClassName("hashPopup"),a=(this.props,this.GTMTracking({action:"dcbuttonclicked",fromAMP:e.fromAMP}));if(i.a.setDataLayer(null,null,!0,!1,a),t.length>0){i.a.openHashPopup("dealerconnect"),a=this.GTMTracking({action:"dcpopupopen",fromAMP:e.fromAMP}),i.a.setDataLayer(null,null,!0,!1,a);let o=i.a.getReactElement(t[0]),s=this.props.dcbDto;s.leadLocation=this.props.location?this.props.location:this.props.pageType+"_bottomsection_DCIcon",s.pageType=this.props.pageType,o.setState({params:s})}}GTMTracking(e){return{event:"dealercallback",lead_action:e.action,lead_city:i.a.getCityById(parseInt(i.a.getCookie("CityId"))),lead_city_id:i.a.getCookie("CityId")?parseInt(i.a.getCookie("CityId")):"",region_name:i.a.getCookie("CityId").indexOf("#")>-1?i.a.getCityById(i.a.getCookie("CityId")):"",region_id:i.a.getCookie("CityId").indexOf("#")>-1?i.a.getCookie("CityId").split("#")[1]:"",oem_name:this.props.dcbDto.brandName,model_name:this.props.dcbDto.modelName,car_segment:this.props.dcbDto.bodyType,price_segment:this.props.dcbDto.priceRnge,lead_location:`${this.props.pageType}${e.fromAMP?".amp":""}_${this.props.btnLocation}_DCIcon`,page_type:this.props.pageType}}render(){if(!this.props.isDealerConnect)return null;let e=this.props.orngDealerCallbtn,t=this.props.bottomBtn;return s.a.createElement("div",{className:this.props.dealerConnectCls},e&&s.a.createElement("div",{className:"dealerCallBtnHolder hidden-lg hidden-md"},s.a.createElement("div",{className:"dealercallBtn "+(this.props.showAnimation,""),onClick:this.handleClick},s.a.createElement("i",{className:"icon-cd_call"}),!t&&s.a.createElement(l.i,{tag:"span"},this.props.dealerConnectCtaText))),!e&&s.a.createElement("div",{className:"dealerconnect hidden-lg hidden-md",id:"hashPopup",onClick:this.handleClick},s.a.createElement("i",{className:"icon-cd_call"}),s.a.createElement(l.i,{tag:"span"},"CLICK TO CALL DEALERS")))}}c.defaultProps={bottomBtn:!1,orngDealerCallbtn:!1,btnLocation:"bottomsection",dealerConnectCls:"",dealerConnectCtaText:"Call Dealer Now"}},"./girnarsoft-react-common/widgets/model/offerSidebar.js":function(e,t,a){"use strict";a.r(t);var o=a("react"),s=a.n(o),i=a("./girnarsoft-react-common/elements/index.js"),n=a("./girnarsoft-react-common/widgets/ctaButtons/DCBButton.js"),l=a("./cd/utils/global.js"),r=a("./girnarsoft-react-common/utils/detect.js");var c=e=>{if(l.a.isEmptyObject(e.item))return null;let t=e.item,a=e.item.dcbDTO;return s.a.createElement("div",{"data-attributeid":"offerSideBar",className:"marginBottom20 "+(e.isNewOfferWidget?"SellWhatsAppWrap":"shadow16 RightSideBar"),"data-track-component":"offersidebar"},s.a.createElement("div",{className:""+(e.isNewOfferWidget?"SellWhatsAppList":"borderBottom")},t.offerUrl&&s.a.createElement(i.c,{className:"gsc_col-xs-12 padding0",urlKey:"urlWithoutBackslash",default:!1,slug:t.offerUrl,title:t.carModelName},s.a.createElement(i.i,{tag:"span",className:"chips"},""+(t.offerLabel?t.offerLabel:t.totalOfferCount&&t.totalOfferCount?1==t.totalOfferCount?t.totalOfferCount+" Offer":t.totalOfferCount+" Offers":""))),!t.offerUrl&&!t.totalOfferCount&&s.a.createElement("span",{className:"chips"},"Offers"),t.OfferHeading&&s.a.createElement(i.i,{tag:"strong"},t.OfferHeading),s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:" "+(e.isNewOfferWidget?"":"holder gsc_col-md-8  gsc_col-xs-8 gsc_col-sm-8")},s.a.createElement(i.i,{tag:"p",dangerouslySetInnerHTML:{__html:t.description}}),!t.showBottomOfferValidity&&t.offerValidity&&s.a.createElement("div",{className:"leftDay"},s.a.createElement("span",{className:"icon-time"}),s.a.createElement(i.i,null,t.offerValidity))),!e.isNewOfferWidget&&s.a.createElement(i.i,{tag:"div",className:"gsc_col-md-4 gsc_col-xs-4 gsc_col-sm-4 iconoffer","data-lazy":!0,"data-lazy-cls":"modelsprite"})),s.a.createElement("div",{className:""+(e.isNewOfferWidget?"":"buttonHolder viewCompletOffer")},a&&s.a.createElement(n.a,{ctaClass:""+(e.btn?e.btn:e.isNewOfferWidget?"button WABtn":"primaryButton"),dcbDto:a,leadLocation:e.leadLocation+"_sidesection_getoffers",btnLocation:"topSection",isDealerConnect:e.item.isDealerConnect,showAnimation:!1,withDCCall:!0,orngDealerCallbtn:!0,dealerConnectCls:e.dealerConnectCls,pageType:e.leadLocation,dealerConnectCtaText:e.dealerConnectCtaText,cls:r.a.isMobile()&&null!=e.item.isDealerConnect&&!e.item.isDealerConnect?"BtnDcbHlaf":""})),t.offerValidity&&t.showBottomOfferValidity&&s.a.createElement("div",{className:"leftDay"},s.a.createElement("span",{className:"icon-time"}),s.a.createElement(i.i,null,`${t.daysLeft<0?"":"Hurry! Only"} ${t.offerValidity}`))))};c.defaultProps={isNewOfferWidget:!1},t.default=c}}]);